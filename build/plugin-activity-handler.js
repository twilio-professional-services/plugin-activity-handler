/*! For license information please see plugin-activity-handler.js.LICENSE.txt */
!function(t){var r={};function __webpack_require__(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=t,__webpack_require__.c=r,__webpack_require__.d=function(t,r,i){__webpack_require__.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,r){if(1&r&&(t=__webpack_require__(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)__webpack_require__.d(i,o,function(r){return t[r]}.bind(null,o));return i},__webpack_require__.n=function(t){var r=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},__webpack_require__.p="/Users/apanagidis/Desktop/Development/GreenDot/activityhandler/public",__webpack_require__(__webpack_require__.s=6)}([function(t,r){t.exports=React},function(t,r){let i=window.Twilio.Flex;window.Twilio&&window.Twilio.FlexProxy&&window.Twilio.FlexProxy["plugin-activity-handler"]&&(i=window.Twilio.FlexProxy["plugin-activity-handler"]),t.exports=i},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadCSS=r.loadJS=r.getRuntimeUrl=r.getAssetsUrl=r.FlexPlugin=r.loadPlugin=void 0;var o=i(7);Object.defineProperty(r,"loadPlugin",{enumerable:!0,get:function(){return o.loadPlugin}}),Object.defineProperty(r,"FlexPlugin",{enumerable:!0,get:function(){return o.FlexPlugin}});var a=i(8);Object.defineProperty(r,"getAssetsUrl",{enumerable:!0,get:function(){return a.getAssetsUrl}}),Object.defineProperty(r,"getRuntimeUrl",{enumerable:!0,get:function(){return a.getRuntimeUrl}});var c=i(9);Object.defineProperty(r,"loadJS",{enumerable:!0,get:function(){return c.loadJS}});var l=i(10);Object.defineProperty(r,"loadCSS",{enumerable:!0,get:function(){return l.loadCSS}})},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return Math.random().toString(26).slice(2)}},function(t,r,i){"use strict";var o=i(12),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},c={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function getStatics(t){return o.isMemo(t)?l:u[t.$$typeof]||a}u[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[o.Memo]=l;var d=Object.defineProperty,p=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,b=Object.prototype;t.exports=function hoistNonReactStatics(t,r,i){if("string"!==typeof r){if(b){var o=g(r);o&&o!==b&&hoistNonReactStatics(t,o,i)}var a=p(r);v&&(a=a.concat(v(r)));for(var l=getStatics(t),u=getStatics(r),k=0;k<a.length;++k){var w=a[k];if(!c[w]&&(!i||!i[w])&&(!u||!u[w])&&(!l||!l[w])){var E=h(r,w);try{d(t,w,E)}catch($){}}}}return t}},,function(t,r,i){t.exports=i(14)},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadPlugin=r.FlexPlugin=void 0;var o=function o(t){this.uniqueName="plugin-activity-handler",this.version="5.0.0",this.dependencies={"@twilio/flex-plugin-scripts":"5.1.2","@twilio/flex-plugin":"5.1.2","flex-ui":"2.0.0-beta.1",react:"16.14.0","react-dom":"16.14.0"},this.name=t,console.log("loading "+this.name+"@"+this.version+" plugin")};r.FlexPlugin=o;r.loadPlugin=function(t){Twilio&&Twilio.Flex&&Twilio.Flex.Plugins?Twilio.Flex.Plugins.init(t):console.warn("This version of Flex does not appear to support plugins.")}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getAssetsUrl=r.getRuntimeUrl=void 0;r.getRuntimeUrl=function(){if(document&&document.currentScript){var t=document.currentScript;if("string"===typeof t.src){var r=t.src;return r.substr(0,r.lastIndexOf("/"))}}return""};r.getAssetsUrl=function(){return r.getRuntimeUrl()+"/assets"}},function(t,r,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.loadJS=void 0;var a=o(i(3));r.loadJS=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach((function(t){var r=document.createElement("script");r.id="external-js-"+a.default(),r.type="text/javascript",r.src=t,document.body.appendChild(r)}))}},function(t,r,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.loadCSS=void 0;var a=o(i(3));r.loadCSS=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach((function(t){var r=document.createElement("link");r.id="external-css-"+a.default(),r.rel="stylesheet",r.type="text/css",r.media="all",r.href=t,document.head.appendChild(r)}))}},function(t,r){function _extends(){return t.exports=_extends=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,_extends.apply(this,arguments)}t.exports=_extends,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,r,i){"use strict";t.exports=i(13)},function(t,r,i){"use strict";var o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,c=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,d=o?Symbol.for("react.profiler"):60114,p=o?Symbol.for("react.provider"):60109,v=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.async_mode"):60111,g=o?Symbol.for("react.concurrent_mode"):60111,b=o?Symbol.for("react.forward_ref"):60112,k=o?Symbol.for("react.suspense"):60113,w=o?Symbol.for("react.suspense_list"):60120,E=o?Symbol.for("react.memo"):60115,$=o?Symbol.for("react.lazy"):60116,G=o?Symbol.for("react.block"):60121,D=o?Symbol.for("react.fundamental"):60117,H=o?Symbol.for("react.responder"):60118,B=o?Symbol.for("react.scope"):60119;function z(t){if("object"===typeof t&&null!==t){var r=t.$$typeof;switch(r){case a:switch(t=t.type){case h:case g:case l:case d:case u:case k:return t;default:switch(t=t&&t.$$typeof){case v:case b:case $:case E:case p:return t;default:return r}}case c:return r}}}function A(t){return z(t)===g}r.AsyncMode=h,r.ConcurrentMode=g,r.ContextConsumer=v,r.ContextProvider=p,r.Element=a,r.ForwardRef=b,r.Fragment=l,r.Lazy=$,r.Memo=E,r.Portal=c,r.Profiler=d,r.StrictMode=u,r.Suspense=k,r.isAsyncMode=function(t){return A(t)||z(t)===h},r.isConcurrentMode=A,r.isContextConsumer=function(t){return z(t)===v},r.isContextProvider=function(t){return z(t)===p},r.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===a},r.isForwardRef=function(t){return z(t)===b},r.isFragment=function(t){return z(t)===l},r.isLazy=function(t){return z(t)===$},r.isMemo=function(t){return z(t)===E},r.isPortal=function(t){return z(t)===c},r.isProfiler=function(t){return z(t)===d},r.isStrictMode=function(t){return z(t)===u},r.isSuspense=function(t){return z(t)===k},r.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===l||t===g||t===d||t===u||t===k||t===w||"object"===typeof t&&null!==t&&(t.$$typeof===$||t.$$typeof===E||t.$$typeof===p||t.$$typeof===v||t.$$typeof===b||t.$$typeof===D||t.$$typeof===H||t.$$typeof===B||t.$$typeof===G)},r.typeOf=z},function(t,r,i){"use strict";i.r(r);var o=i(2);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _inherits(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"===typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(h){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return _possibleConstructorReturn(this,i)}}var a=i(0),c=i.n(a),l=i(1);function _taggedTemplateLiteral(t,r){return r||(r=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))}i(11);var u=function memoize(t){var r=Object.create(null);return function(i){return void 0===r[i]&&(r[i]=t(i)),r[i]}},d=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,p=u((function(t){return d.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}var v=function(){function StyleSheet(t){var r=this;this._insertTag=function(t){var i;i=0===r.tags.length?r.insertionPoint?r.insertionPoint.nextSibling:r.prepend?r.container.firstChild:r.before:r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(t,i),r.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var t=StyleSheet.prototype;return t.hydrate=function hydrate(t){t.forEach(this._insertTag)},t.insert=function insert(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function createStyleElement(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),void 0!==t.nonce&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function sheetForTag(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}(r);try{i.insertRule(t,i.cssRules.length)}catch(h){0}}else r.appendChild(document.createTextNode(t));this.ctr++},t.flush=function flush(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},StyleSheet}(),h="-ms-",g="-moz-",b="-webkit-",k="comm",w="decl",E="@keyframes",$=Math.abs,G=String.fromCharCode,D=Object.assign;function x(t){return t.trim()}function j(t,r,i){return t.replace(r,i)}function C(t,r){return t.indexOf(r)}function z(t,r){return 0|t.charCodeAt(r)}function A(t,r,i){return t.slice(r,i)}function O(t){return t.length}function M(t){return t.length}function S(t,r){return r.push(t),t}function q(t,r){return t.map(r).join("")}var H=1,B=1,X=0,Z=0,de=0,pe="";function I(t,r,i,o,a,c,l){return{value:t,root:r,parent:i,type:o,props:a,children:c,line:H,column:B,length:l,return:""}}function J(t,r){return D(I("",null,null,"",null,null,0),t,{length:-t.length},r)}function L(){return de=Z>0?z(pe,--Z):0,B--,10===de&&(B=1,H--),de}function N(){return de=Z<X?z(pe,Z++):0,B++,10===de&&(B=1,H++),de}function P(){return z(pe,Z)}function Q(){return Z}function R(t,r){return A(pe,t,r)}function T(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function U(t){return H=B=1,X=O(pe=t),Z=0,[]}function V(t){return pe="",t}function W(t){return x(R(Z-1,function ee(t){for(;N();)switch(de){case t:return Z;case 34:case 39:34!==t&&39!==t&&ee(de);break;case 40:41===t&&ee(t);break;case 92:N()}return Z}(91===t?t+2:40===t?t+1:t)))}function Y(t){for(;(de=P())&&de<33;)N();return T(t)>2||T(de)>3?"":" "}function _(t,r){for(;--r&&N()&&!(de<48||de>102||de>57&&de<65||de>70&&de<97););return R(t,Q()+(r<6&&32==P()&&32==N()))}function re(t,r){for(;N()&&t+de!==57&&(t+de!==84||47!==P()););return"/*"+R(r,Z-1)+"*"+G(47===t?t:N())}function ae(t){for(;!T(P());)N();return R(t,Z)}function ce(t){return V(function ne(t,r,i,o,a,c,l,u,d){var p=0,v=0,h=l,g=0,b=0,k=0,w=1,E=1,$=1,D=0,H="",B=a,X=c,Z=o,de=H;for(;E;)switch(k=D,D=N()){case 40:if(108!=k&&58==de.charCodeAt(h-1)){-1!=C(de+=j(W(D),"&","&\f"),"&\f")&&($=-1);break}case 34:case 39:case 91:de+=W(D);break;case 9:case 10:case 13:case 32:de+=Y(k);break;case 92:de+=_(Q()-1,7);continue;case 47:switch(P()){case 42:case 47:S(se(re(N(),Q()),r,i),d);break;default:de+="/"}break;case 123*w:u[p++]=O(de)*$;case 125*w:case 59:case 0:switch(D){case 0:case 125:E=0;case 59+v:b>0&&O(de)-h&&S(b>32?ue(de+";",o,i,h-1):ue(j(de," ","")+";",o,i,h-2),d);break;case 59:de+=";";default:if(S(Z=te(de,r,i,p,v,a,u,H,B=[],X=[],h),c),123===D)if(0===v)ne(de,r,Z,Z,B,c,h,u,X);else switch(g){case 100:case 109:case 115:ne(t,Z,Z,o&&S(te(t,Z,Z,0,0,a,u,H,a,B=[],h),X),a,X,h,u,o?B:X);break;default:ne(de,Z,Z,Z,[""],X,0,u,X)}}p=v=b=0,w=$=1,H=de="",h=l;break;case 58:h=1+O(de),b=k;default:if(w<1)if(123==D)--w;else if(125==D&&0==w++&&125==L())continue;switch(de+=G(D),D*w){case 38:$=v>0?1:(de+="\f",-1);break;case 44:u[p++]=(O(de)-1)*$,$=1;break;case 64:45===P()&&(de+=W(N())),g=P(),v=h=O(H=de+=ae(Q())),D++;break;case 45:45===k&&2==O(de)&&(w=0)}}return c}("",null,null,null,[""],t=U(t),0,[0],t))}function te(t,r,i,o,a,c,l,u,d,p,v){for(var h=a-1,g=0===a?c:[""],b=M(g),k=0,w=0,E=0;k<o;++k)for(var G=0,D=A(t,h+1,h=$(w=l[k])),H=t;G<b;++G)(H=x(w>0?g[G]+" "+D:j(D,/&\f/g,g[G])))&&(d[E++]=H);return I(t,r,i,0===a?"rule":u,d,p,v)}function se(t,r,i){return I(t,r,i,k,G(function K(){return de}()),A(t,2,-2),0)}function ue(t,r,i,o){return I(t,r,i,w,A(t,0,o),A(t,o+1,-1),o)}function ie(t,r){switch(function m(t,r){return(((r<<2^z(t,0))<<2^z(t,1))<<2^z(t,2))<<2^z(t,3)}(t,r)){case 5103:return b+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return b+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return b+t+g+t+h+t+t;case 6828:case 4268:return b+t+h+t+t;case 6165:return b+t+h+"flex-"+t+t;case 5187:return b+t+j(t,/(\w+).+(:[^]+)/,b+"box-$1$2"+h+"flex-$1$2")+t;case 5443:return b+t+h+"flex-item-"+j(t,/flex-|-self/,"")+t;case 4675:return b+t+h+"flex-line-pack"+j(t,/align-content|flex-|-self/,"")+t;case 5548:return b+t+h+j(t,"shrink","negative")+t;case 5292:return b+t+h+j(t,"basis","preferred-size")+t;case 6060:return b+"box-"+j(t,"-grow","")+b+t+h+j(t,"grow","positive")+t;case 4554:return b+j(t,/([^-])(transform)/g,"$1"+b+"$2")+t;case 6187:return j(j(j(t,/(zoom-|grab)/,b+"$1"),/(image-set)/,b+"$1"),t,"")+t;case 5495:case 3959:return j(t,/(image-set\([^]*)/,b+"$1$`$1");case 4968:return j(j(t,/(.+:)(flex-)?(.*)/,b+"box-pack:$3"+h+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+b+t+t;case 4095:case 3583:case 4068:case 2532:return j(t,/(.+)-inline(.+)/,b+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(O(t)-1-r>6)switch(z(t,r+1)){case 109:if(45!==z(t,r+4))break;case 102:return j(t,/(.+:)(.+)-([^]+)/,"$1"+b+"$2-$3$1"+g+(108==z(t,r+3)?"$3":"$2-$3"))+t;case 115:return~C(t,"stretch")?ie(j(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(115!==z(t,r+1))break;case 6444:switch(z(t,O(t)-3-(~C(t,"!important")&&10))){case 107:return j(t,":",":"+b)+t;case 101:return j(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+b+(45===z(t,14)?"inline-":"")+"box$3$1"+b+"$2$3$1"+h+"$2box$3")+t}break;case 5936:switch(z(t,r+11)){case 114:return b+t+h+j(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return b+t+h+j(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return b+t+h+j(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return b+t+h+t+t}return t}function fe(t,r){for(var i="",o=M(t),a=0;a<o;a++)i+=r(t[a],a,t,r)||"";return i}function oe(t,r,i,o){switch(t.type){case"@import":case w:return t.return=t.return||t.value;case k:return"";case E:return t.return=t.value+"{"+fe(t.children,o)+"}";case"rule":t.value=t.props.join(",")}return O(i=fe(t.children,o))?t.return=t.value+"{"+i+"}":""}function ve(t){return function(r){r.root||(r=r.return)&&t(r)}}var ye=function identifierWithPointTracking(t,r,i){for(var o=0,a=0;o=a,a=P(),38===o&&12===a&&(r[i]=1),!T(a);)N();return R(t,Z)},ge=function getRules(t,r){return V(function toRules(t,r){var i=-1,o=44;do{switch(T(o)){case 0:38===o&&12===P()&&(r[i]=1),t[i]+=ye(Z-1,r,i);break;case 2:t[i]+=W(o);break;case 4:if(44===o){t[++i]=58===P()?"&\f":"",r[i]=t[i].length;break}default:t[i]+=G(o)}}while(o=N());return t}(U(t),r))},me=new WeakMap,be=function compat(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var r=t.value,i=t.parent,o=t.column===i.column&&t.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==t.props.length||58===r.charCodeAt(0)||me.get(i))&&!o){me.set(t,!0);for(var a=[],c=ge(r,a),l=i.props,u=0,d=0;u<c.length;u++)for(var p=0;p<l.length;p++,d++)t.props[d]=a[u]?c[u].replace(/&\f/g,l[p]):l[p]+" "+c[u]}}},ke=function removeLabel(t){if("decl"===t.type){var r=t.value;108===r.charCodeAt(0)&&98===r.charCodeAt(2)&&(t.return="",t.value="")}},_e=[function he(t,r,i,o){if(t.length>-1&&!t.return)switch(t.type){case w:t.return=ie(t.value,t.length);break;case E:return fe([J(t,{value:j(t.value,"@","@"+b)})],o);case"rule":if(t.length)return q(t.props,(function(r){switch(function y(t,r){return(t=r.exec(t))?t[0]:t}(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fe([J(t,{props:[j(r,/:(read-\w+)/,":-moz-$1")]})],o);case"::placeholder":return fe([J(t,{props:[j(r,/:(plac\w+)/,":"+b+"input-$1")]}),J(t,{props:[j(r,/:(plac\w+)/,":-moz-$1")]}),J(t,{props:[j(r,/:(plac\w+)/,h+"input-$1")]})],o)}return""}))}}],we=function createCache(t){var r=t.key;if("css"===r){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var o=t.stylisPlugins||_e;var a,c,l={},u=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),(function(t){for(var r=t.getAttribute("data-emotion").split(" "),i=1;i<r.length;i++)l[r[i]]=!0;u.push(t)}));var d=[be,ke];var p,h=[oe,ve((function(t){p.insert(t)}))],g=function le(t){var r=M(t);return function(i,o,a,c){for(var l="",u=0;u<r;u++)l+=t[u](i,o,a,c)||"";return l}}(d.concat(o,h));c=function insert(t,r,i,o){p=i,function stylis(t){fe(ce(t),g)}(t?t+"{"+r.styles+"}":r.styles),o&&(b.inserted[r.name]=!0)};var b={key:r,sheet:new v({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:c};return b.sheet.hydrate(u),b};i(4);function getRegisteredStyles(t,r,i){var o="";return i.split(" ").forEach((function(i){void 0!==t[i]?r.push(t[i]+";"):o+=i+" "})),o}var xe=function registerStyles(t,r,i){var o=t.key+"-"+r.name;!1===i&&void 0===t.registered[o]&&(t.registered[o]=r.styles)},Se=function insertStyles(t,r,i){xe(t,r,i);var o=t.key+"-"+r.name;if(void 0===t.inserted[r.name]){var a=r;do{t.insert(r===a?"."+o:"",a,t.sheet,!0);a=a.next}while(void 0!==a)}};var Ae=function murmur2(t){for(var r,i=0,o=0,a=t.length;a>=4;++o,a-=4)r=1540483477*(65535&(r=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+(59797*(r>>>16)<<16),i=1540483477*(65535&(r^=r>>>24))+(59797*(r>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(a){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)},Ce={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pe=/[A-Z]|^ms/g,Te=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Oe=function isCustomProperty(t){return 45===t.charCodeAt(1)},je=function isProcessableValue(t){return null!=t&&"boolean"!==typeof t},Ie=u((function(t){return Oe(t)?t:t.replace(Pe,"-$&").toLowerCase()})),Re=function processStyleValue(t,r){switch(t){case"animation":case"animationName":if("string"===typeof r)return r.replace(Te,(function(t,r,i){return Ee={name:r,styles:i,next:Ee},r}))}return 1===Ce[t]||Oe(t)||"number"!==typeof r||0===r?r:r+"px"};function handleInterpolation(t,r,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return Ee={name:i.name,styles:i.styles,next:Ee},i.name;if(void 0!==i.styles){var o=i.next;if(void 0!==o)for(;void 0!==o;)Ee={name:o.name,styles:o.styles,next:Ee},o=o.next;return i.styles+";"}return function createStringFromObject(t,r,i){var o="";if(Array.isArray(i))for(var a=0;a<i.length;a++)o+=handleInterpolation(t,r,i[a])+";";else for(var c in i){var l=i[c];if("object"!==typeof l)null!=r&&void 0!==r[l]?o+=c+"{"+r[l]+"}":je(l)&&(o+=Ie(c)+":"+Re(c,l)+";");else if(!Array.isArray(l)||"string"!==typeof l[0]||null!=r&&void 0!==r[l[0]]){var u=handleInterpolation(t,r,l);switch(c){case"animation":case"animationName":o+=Ie(c)+":"+u+";";break;default:o+=c+"{"+u+"}"}}else for(var d=0;d<l.length;d++)je(l[d])&&(o+=Ie(c)+":"+Re(c,l[d])+";")}return o}(t,r,i);case"function":if(void 0!==t){var a=Ee,c=i(t);return Ee=a,handleInterpolation(t,r,c)}break;case"string":}if(null==r)return i;var l=r[i];return void 0!==l?l:i}var Ee,Le=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ne=function serializeStyles(t,r,i){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var o=!0,a="";Ee=void 0;var c=t[0];null==c||void 0===c.raw?(o=!1,a+=handleInterpolation(i,r,c)):a+=c[0];for(var l=1;l<t.length;l++)a+=handleInterpolation(i,r,t[l]),o&&(a+=c[l]);Le.lastIndex=0;for(var u,d="";null!==(u=Le.exec(a));)d+="-"+u[1];return{name:Ae(a)+d,styles:a,next:Ee}},$e=Object(a.createContext)("undefined"!==typeof HTMLElement?we({key:"css"}):null);$e.Provider;var Me=function withEmotionCache(t){return Object(a.forwardRef)((function(r,i){var o=Object(a.useContext)($e);return t(r,o,i)}))},Fe=Object(a.createContext)({});a.useInsertionEffect&&a.useInsertionEffect;var ze=p,We=function testOmitPropsOnComponent(t){return"theme"!==t},Ge=function getDefaultShouldForwardProp(t){return"string"===typeof t&&t.charCodeAt(0)>96?ze:We},De=function composeShouldForwardProps(t,r,i){var o;if(r){var a=r.shouldForwardProp;o=t.__emotion_forwardProp&&a?function(r){return t.__emotion_forwardProp(r)&&a(r)}:a}return"function"!==typeof o&&i&&(o=t.__emotion_forwardProp),o},He=a.useInsertionEffect?a.useInsertionEffect:function useInsertionEffect(t){t()};var Ue=function Insertion(t){var r=t.cache,i=t.serialized,o=t.isStringTag;xe(r,i,o);(function emotion_styled_base_browser_esm_useInsertionEffectMaybe(t){He(t)})((function(){return Se(r,i,o)}));return null},qe=function createStyled(t,r){var i,o,c=t.__emotion_real===t,l=c&&t.__emotion_base||t;void 0!==r&&(i=r.label,o=r.target);var u=De(t,r,c),d=u||Ge(l),p=!d("as");return function(){var v=arguments,h=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)h.push.apply(h,v);else{0,h.push(v[0][0]);for(var g=v.length,b=1;b<g;b++)h.push(v[b],v[0][b])}var k=Me((function(t,r,i){var c=p&&t.as||l,v="",g=[],b=t;if(null==t.theme){for(var k in b={},t)b[k]=t[k];b.theme=Object(a.useContext)(Fe)}"string"===typeof t.className?v=getRegisteredStyles(r.registered,g,t.className):null!=t.className&&(v=t.className+" ");var w=Ne(h.concat(g),r.registered,b);v+=r.key+"-"+w.name,void 0!==o&&(v+=" "+o);var E=p&&void 0===u?Ge(c):d,$={};for(var G in t)p&&"as"===G||E(G)&&($[G]=t[G]);return $.className=v,$.ref=i,Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Ue,{cache:r,serialized:w,isStringTag:"string"===typeof c}),Object(a.createElement)(c,$))}));return k.displayName=void 0!==i?i:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=l,k.__emotion_styles=h,k.__emotion_forwardProp=u,Object.defineProperty(k,"toString",{value:function value(){return"."+o}}),k.withComponent=function(t,i){return createStyled(t,_extends({},r,i,{shouldForwardProp:De(k,i,!0)})).apply(void 0,h)},k}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){qe[t]=qe(t)}));var Be,Je,Ve,Ye=qe,Ke=Ye("div")(Be||(Be=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  font-size: 10px;\n  margin-bottom: auto;\n  margin-right: 4px;\n  margin-top: auto;\n  text-align: center;\n"]))),Xe=Ye("span")(Je||(Je=_taggedTemplateLiteral(["\n  font-size: 12px;\n  font-weight: bold;\n  margin: 1px 0px;\n"]))),Qe=Ye("span")(Ve||(Ve=_taggedTemplateLiteral(["\n  margin: 1px 0px;\n"])));function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _unsupportedIterableToArray(t,r){if(t){if("string"===typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ze=new(function(){function FlexState(){var t=this;_classCallCheck(this,FlexState),this._manager=l.Manager.getInstance(),this.initialize=function(){t.accountSid=t.flexState.worker.source.accountSid},this.getActivityBySid=function(r){return t.workerActivities.get(r)},this.getActivityByName=function(r){return _toConsumableArray(t.workerActivities.values()).find((function(t){var i;return(null===t||void 0===t||null===(i=t.name)||void 0===i?void 0:i.toLowerCase())===r.toLowerCase()}))},this.isAnAvailableActivityBySid=function(r){var i;return null===(i=t.getActivityBySid(r))||void 0===i?void 0:i.available},this.storePendingActivityChange=function(r,i){var o={available:r.available,isUserSelected:i,name:r.name,sid:r.sid};localStorage.setItem(t.pendingActivityChangeItemKey,JSON.stringify(o))},this.clearPendingActivityChange=function(){localStorage.removeItem(t.pendingActivityChangeItemKey)}}return _createClass(FlexState,[{key:"flexState",get:function get(){return this._manager.store.getState().flex}},{key:"otherSessionDetected",get:function get(){var t,r,i;return null===(t=this.flexState)||void 0===t||null===(r=t.session)||void 0===r||null===(i=r.singleSessionGuard)||void 0===i?void 0:i.otherSessionDetected}},{key:"offlineActivitySid",get:function get(){return this._manager.serviceConfiguration.taskrouter_offline_activity_sid}},{key:"pendingActivityChangeItemKey",get:function get(){return"pendingActivityChange_".concat(this.accountSid)}},{key:"pendingActivity",get:function get(){var t=localStorage.getItem(this.pendingActivityChangeItemKey);return t&&JSON.parse(t)}},{key:"workerActivities",get:function get(){var t,r;return(null===(t=this.flexState)||void 0===t||null===(r=t.worker)||void 0===r?void 0:r.activities)||new Map}},{key:"workerTasks",get:function get(){return this.flexState.worker.tasks}},{key:"hasLiveCallTask",get:function get(){return!!this.workerTasks&&_toConsumableArray(this.workerTasks.values()).some((function(t){return l.TaskHelper.isLiveCall(t)}))}},{key:"hasLiveChatTask",get:function get(){return!!this.workerTasks&&(console.log("hasLiveChatTask",_toConsumableArray(this.workerTasks.values())),_toConsumableArray(this.workerTasks.values()).some((function(t){return l.TaskHelper.isLiveChat(t)})))}},{key:"hasActiveCallTask",get:function get(){return!!this.workerTasks&&_toConsumableArray(this.workerTasks.values()).some((function(t){return l.TaskHelper.isCallTask(t)&&(l.TaskHelper.isPending(t)||l.TaskHelper.isLiveCall(t))}))}},{key:"hasActiveTask",get:function get(){return!!this.workerTasks&&_toConsumableArray(this.workerTasks.values()).some((function(t){return l.TaskHelper.isTaskAccepted(t)&&!l.TaskHelper.isInWrapupMode(t)}))}},{key:"hasWrappingTask",get:function get(){return!!this.workerTasks&&_toConsumableArray(this.workerTasks.values()).some((function(t){return l.TaskHelper.isInWrapupMode(t)}))}},{key:"hasPendingTask",get:function get(){return!!this.workerTasks&&_toConsumableArray(this.workerTasks.values()).some((function(t){return l.TaskHelper.isPending(t)}))}}]),FlexState}()),et=function(t){_inherits(PendingActivity,t);var r=_createSuper(PendingActivity);function PendingActivity(){var t;_classCallCheck(this,PendingActivity);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=r.call.apply(r,[this].concat(o))).state={pendingActivity:void 0},t}return _createClass(PendingActivity,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.activityCheckInterval=setInterval((function(){var r,i=Ze.pendingActivity;(null===i||void 0===i?void 0:i.sid)!==(null===(r=t.state.pendingActivity)||void 0===r?void 0:r.sid)&&t.setState({pendingActivity:i})}),1e3)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.activityCheckInterval)}},{key:"render",value:function render(){return this.state.pendingActivity&&this.state.pendingActivity.isUserSelected?c.a.createElement(Ke,null,c.a.createElement(Xe,null,"Pending Activity"),c.a.createElement(Qe,null,this.state.pendingActivity.name)):null}}]),PendingActivity}(c.a.PureComponent);function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return t};var t={},r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(g){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,o){var a=r&&r.prototype instanceof Generator?r:Generator,c=Object.create(a.prototype),l=new Context(o||[]);return c._invoke=function(t,r,i){var o="suspendedStart";return function(a,c){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw c;return doneResult()}for(i.method=a,i.arg=c;;){var l=i.delegate;if(l){var d=maybeInvokeDelegate(l,i);if(d){if(d===u)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===o)throw o="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o="executing";var p=tryCatch(t,r,i);if("normal"===p.type){if(o=i.done?"completed":"suspendedYield",p.arg===u)continue;return{value:p.arg,done:i.done}}"throw"===p.type&&(o="completed",i.method="throw",i.arg=p.arg)}}}(t,i,l),c}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(g){return{type:"throw",arg:g}}}t.wrap=wrap;var u={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(values([])));v&&v!==r&&i.call(v,a)&&(d=v);var h=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){var o;this._invoke=function(a,c){function callInvokeWithMethodAndArg(){return new r((function(o,l){!function invoke(o,a,c,l){var u=tryCatch(t[o],t,a);if("throw"!==u.type){var d=u.arg,p=d.value;return p&&"object"==_typeof(p)&&i.call(p,"__await")?r.resolve(p.__await).then((function(t){invoke("next",t,c,l)}),(function(t){invoke("throw",t,c,l)})):r.resolve(p).then((function(t){d.value=t,c(d)}),(function(t){return invoke("throw",t,c,l)}))}l(u.arg)}(a,c,o,l)}))}return o=o?o.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,r){var i=t.iterator[r.method];if(void 0===i){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,maybeInvokeDelegate(t,r),"throw"===r.method))return u;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=tryCatch(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,u;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,u):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,u)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function next(){for(;++o<t.length;)if(i.call(t,o))return next.value=t[o],next.done=!1,next;return next.value=void 0,next.done=!0,next};return c.next=c}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(h,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,l,"GeneratorFunction")),t.prototype=Object.create(h),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(r,i,o,a,c){void 0===c&&(c=Promise);var l=new AsyncIterator(wrap(r,i,o,a),c);return t.isGeneratorFunction(i)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},defineIteratorMethods(h),define(h,l,"Generator"),define(h,a,(function(){return this})),define(h,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var r=[];for(var i in t)r.push(i);return r.reverse(),function next(){for(;r.length;){var i=r.pop();if(i in t)return next.value=i,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var r=this;function handle(i,o){return c.type="throw",c.arg=t,r.next=i,o&&(r.method="next",r.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&("break"===t||"continue"===t)&&c.tryLoc<=r&&r<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=t,l.arg=r,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),u},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),u}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var o=i.completion;if("throw"===o.type){var a=o.arg;resetTryEntry(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,r,i){return this.delegate={iterator:values(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}},t}function asyncGeneratorStep(t,r,i,o,a,c,l){try{var u=t[c](l),d=u.value}catch(p){return void i(p)}u.done?r(d):Promise.resolve(d).then(o,a)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(o,a){var c=t.apply(r,i);function _next(t){asyncGeneratorStep(c,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,o,a,_next,_throw,"throw",t)}_next(void 0)}))}}var tt=new(function(){function WorkerState(){var t=this;_classCallCheck(this,WorkerState),this._manager=l.Manager.getInstance(),this.waitForWorkerActivityChange=function(r){return new Promise((function(i){if(t.workerActivitySid===r)return i();console.debug("WorkerState, waitForWorkerActivityChange, waiting for worker activity SID to be",r);var o=0,a=setInterval((function(){100*o>3e3?(console.warn("Timed out waiting for worker activity SID to be",r),clearInterval(a),i()):t.workerActivitySid===r&&(clearInterval(a),i()),o+=1}),100)}))}}return _createClass(WorkerState,[{key:"workerClient",get:function get(){return this._manager.workerClient}},{key:"workerActivity",get:function get(){return this.workerClient.activity}},{key:"workerActivityName",get:function get(){var t;return null===(t=this.workerActivity)||void 0===t?void 0:t.name}},{key:"workerActivitySid",get:function get(){var t;return null===(t=this.workerActivity)||void 0===t?void 0:t.sid}}]),WorkerState}()),rt={accepted:"accepted",rejected:"rejected",timeout:"timeout",canceled:"canceled",rescinded:"rescinded",completed:"completed",wrapup:"wrapup"},nt="Available",it="On a Task",ot="On a Task, No ACD",at="Wrap Up",ct="Wrap Up, No ACD",st="System Issue",lt="Sys_G",ut="Sys_V",ft="ActivityChangeDelayed",dt="RestrictedActivities",pt=l.Manager.getInstance(),yt=new Map,vt=Ze.getActivityByName(nt),ht=Ze.getActivityByName(it),gt=Ze.getActivityByName(ot),mt=Ze.getActivityByName(at),bt=Ze.getActivityByName(ct),kt=[it,ot,at,ct],_t=[st,lt,ut];pt.events.addListener("pluginsLoaded",(function(){It(),Ze.initialize()}));var wt=function storeCurrentActivitySidIfNeeded(){if(function shouldStoreCurrentActivitySid(){return!kt.map((function(t){return t.toLowerCase()})).includes(tt.workerActivityName.toLowerCase())}()){var t=tt.workerActivity;console.debug("Storing current activity as pending activity:",t.name),Ze.storePendingActivityChange(tt.workerActivity)}},xt=function setWorkerActivity(t,r){try{var i=Ze.getActivityBySid(t);if(!function canChangeWorkerActivity(t){var r=!0;return Ze.isAnAvailableActivityBySid(t)&&Ze.hasPendingTask&&(r=!1),r}(t))return void console.debug("setWorkerActivity: Not permitted to change worker activity at this time. Target activity:",null===i||void 0===i?void 0:i.name);tt.workerActivitySid===t?console.debug('setWorkerActivity: Worker already in activity "'.concat(null===i||void 0===i?void 0:i.name,'". No change needed.')):(console.log("setWorkerActivity: ",null===i||void 0===i?void 0:i.name),l.Actions.invokeAction("SetActivity",{activitySid:t,isInvokedByPlugin:!0})),r&&Ze.clearPendingActivityChange()}catch(o){console.error("setWorkerActivity: Error setting worker activity SID",o)}};l.Actions.addListener("beforeSetActivity",(function(t,r){var i=t.activityName,o=t.activitySid;if(!t.isInvokedByPlugin)if(kt.map((function(t){return t.toLowerCase()})).includes(i.toLowerCase()))r(),l.Notifications.showNotification(dt,{activityName:i});else if(Ze.hasActiveTask||Ze.hasWrappingTask){r(),function delayActivityChange(t){l.Notifications.showNotification(ft,{activityName:t.name}),Ze.storePendingActivityChange(t,!0)}(Ze.getActivityBySid(o))}})),l.Actions.addListener("beforeStartOutboundCall",_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t;return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return wt(),t=tt.workerActivity.available?ht:gt,xt(null===t||void 0===t?void 0:t.sid),r.next=5,tt.waitForWorkerActivityChange(null===t||void 0===t?void 0:t.sid);case 5:case"end":return r.stop()}}),_callee)})))),l.Actions.addListener("beforeCompleteTask",function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t,r){var i;return _regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ze.pendingActivity,console.log("beforeCompleteTask FlexState.hasLiveChatTask",Ze.hasLiveChatTask,"FlexState.hasWrappingTask",Ze.hasWrappingTask),Ze.hasLiveChatTask||Ze.hasWrappingTask){t.next=8;break}if(!i){t.next=8;break}return console.debug("beforeCompleteTask, Setting worker to pending activity",i.name),xt(i.sid,!0),t.next=8,tt.waitForWorkerActivityChange(i.sid);case 8:case"end":return t.stop()}}),_callee2)})));return function(r,i){return t.apply(this,arguments)}}());var St=function stopReservationListeners(t){var r=yt.get(t);r&&(r.forEach((function(r){t.removeListener(r.event,r.callback)})),yt.delete(t))},At=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(t){var r;return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:console.log("### handleReservationAccept ".concat(t.sid)),wt(),r=tt.workerActivity.available?ht:gt,xt(null===r||void 0===r?void 0:r.sid);case 4:case"end":return i.stop()}}),_callee3)})));return function handleReservationAccept(r){return t.apply(this,arguments)}}(),Ct=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(t){var r;return _regeneratorRuntime().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:if(console.log("handleReservationWrapup: ",t),!(Ze.hasLiveCallTask||Ze.hasLiveChatTask||Ze.hasPendingTask||tt.workerActivityName===at)){i.next=3;break}return i.abrupt("return");case 3:r=tt.workerActivity.available?mt:bt,xt(null===r||void 0===r?void 0:r.sid);case 5:case"end":return i.stop()}}),_callee4)})));return function handleReservationWrapup(r){return t.apply(this,arguments)}}(),Pt=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(t,r){var i;return _regeneratorRuntime().wrap((function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("handleReservationEnded: ",t),i=Ze.pendingActivity,r!==rt.timeout&&!Ze.hasActiveTask&&!Ze.hasWrappingTask&&tt.workerActivitySid!==(null===i||void 0===i?void 0:i.sid)){o.next=4;break}return o.abrupt("return");case 4:if(!_t.includes(tt.workerActivityName)){o.next=7;break}return Ze.clearPendingActivityChange(),o.abrupt("return");case 7:i?(console.debug("handleReservationEnded, Setting worker to pending activity",i.name),xt(i.sid,!0)):kt.includes(tt.workerActivityName)&&(console.debug("handleReservationEnded, No pending activity and current activity "+'"'.concat(tt.workerActivityName,'" is a system activity. Setting worker to ')+"default activity:",null===vt||void 0===vt?void 0:vt.name),xt(null===vt||void 0===vt?void 0:vt.sid));case 8:case"end":return o.stop()}}),_callee5)})));return function handleReservationEnded(r,i){return t.apply(this,arguments)}}(),Tt=function initReservationListeners(t){var r=t.addListener?t:t.source;St(r);var i=[];Object.values(rt).forEach((function(t){var o=function callback(){return function handleReservationUpdated(t,r){switch(console.debug("Event, reservation updated",t,r),t){case rt.accepted:At(r);break;case rt.wrapup:Ct(r);break;case rt.timeout:Pt(r,rt.timeout),St(r);break;case rt.completed:case rt.rejected:case rt.canceled:case rt.rescinded:Pt(r),St(r)}}(t,r)};r.addListener(t,o),i.push({event:t,callback:o})})),yt.set(r,i)},Ot=function handleNewReservation(t){console.debug("new reservation",t),Tt(t)},jt=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(t){return _regeneratorRuntime().wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:Ot(t),wt();case 2:case"end":return r.stop()}}),_callee6)})));return function handleReservationCreated(r){return t.apply(this,arguments)}}();pt.workerClient.on("reservationCreated",jt);var It=function initialize(){!function validateAndSetWorkerActivity(){if(console.debug("otherFlexSessionDetected:",Ze.otherSessionDetected),Ze.otherSessionDetected)console.warn("Another flex session was detected. Not validating or resetting worker activity");else{var t=Ze.pendingActivity,r=tt.workerActivitySid,i=tt.workerActivityName;if(!Ze.hasLiveCallTask&&Ze.hasWrappingTask){var o=null!==t&&void 0!==t&&t.available?mt:bt;console.log('Resetting "'.concat(o.name,'" Activity from:'),i),xt(null===o||void 0===o?void 0:o.sid)}else if(r!==(null===mt||void 0===mt?void 0:mt.sid)&&r!==(null===bt||void 0===bt?void 0:bt.sid)||Ze.hasWrappingTask)if(r!==(null===ht||void 0===ht?void 0:ht.sid)&&r!==(null===gt||void 0===gt?void 0:gt.sid)||Ze.hasActiveTask){if(r===Ze.offlineActivitySid&&!Ze.hasWrappingTask){var a,c,l;Ze.clearPendingActivityChange();var u=null===(a=pt.serviceConfiguration)||void 0===a||null===(c=a.ui_attributes)||void 0===c||null===(l=c.activityHandlerPlugin)||void 0===l?void 0:l.loginActivitySid,d=u&&Ze.getActivityBySid(u);d&&(console.log('Setting worker from "'.concat(i,'" to "').concat(d.name,'" on initial login')),xt(d.sid))}}else{var p=t||vt;console.log('Setting worker from "'.concat(i,'" to ')+"".concat(t?"pending":"default"," activity:"),null===p||void 0===p?void 0:p.name),xt(null===p||void 0===p?void 0:p.sid,!!t)}else{var v=t||vt;console.log('Setting worker from "'.concat(i,'" to ')+"".concat(t?"pending":"default"," activity:"),null===v||void 0===v?void 0:v.name),xt(null===v||void 0===v?void 0:v.sid,!!t)}}}();var t,r=function _createForOfIteratorHelper(t,r){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"===typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,u=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==i.return||i.return()}finally{if(u)throw c}}}}(Ze.workerTasks.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;Ot(i)}}catch(o){r.e(o)}finally{r.f()}},Rt=l.Manager.getInstance();Rt.strings[ft]='You will be set to "{{activityName}}" when all tasks are completed',Rt.strings[dt]='Status "{{activityName}}" cannot be manually selected',l.Notifications.registerNotification({id:ft,closeButton:!0,content:ft,timeout:5e3,type:l.NotificationType.success}),l.Notifications.registerNotification({id:dt,closeButton:!0,content:dt,type:l.NotificationType.warning,timeout:5e3});var Et=function(t){_inherits(ActivityHandlerPlugin,t);var r=_createSuper(ActivityHandlerPlugin);function ActivityHandlerPlugin(){return _classCallCheck(this,ActivityHandlerPlugin),r.call(this,"ActivityHandlerPlugin")}return _createClass(ActivityHandlerPlugin,[{key:"init",value:function init(t,r){t.MainHeader.Content.add(c.a.createElement(et,{key:"pending-activity"}),{sortOrder:-999,align:"end"})}}]),ActivityHandlerPlugin}(o.FlexPlugin);o.loadPlugin(Et)}]);
//# sourceMappingURL=bundle.js.map